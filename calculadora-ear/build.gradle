apply plugin: 'ear'

dependencies {
	deploy project(path:':calculadora-war', configuration:'archives')
	deploy project(path: ':calculadora-ejb')

	earlib project(':calculadora-api')
	earlib project(':calculadora-core')
	earlib project(':calculadora-ejb-client')
}

ear{
	deploymentDescriptor{
		def warName = project(':calculadora-war').name
		def warVersion = project(':calculadora-war').version
		def warFileName = warName + "-" + warVersion + ".war"
		webModule(warFileName, 'calculadoraDM110')

		def ejbName = project(':calculadora-ejb').name
		def ejbVersion = project(':calculadora-ejb').version
		def ejbFileName = ejbName + '-' + ejbVersion + '.jar'
		module(ejbFileName, 'ejb')	
	}

}